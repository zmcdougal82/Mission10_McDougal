{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function BowlerTable(){const[bowlers,setBowlers]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState(null);useEffect(()=>{const fetchBowlers=async()=>{try{console.log('Fetching bowlers from API...');const response=await axios.get('/api/bowlers');console.log('API response:',response.data);console.log('API response type:',typeof response.data);console.log('Is array?',Array.isArray(response.data));// Always ensure bowlers is an array\nlet bowlersArray=[];if(response.data===null||response.data===undefined){console.error('Response data is null or undefined');setError('Received null or undefined data from the server.');}// Check if the response data is an array\nelse if(Array.isArray(response.data)){console.log('Setting bowlers from array data');bowlersArray=response.data;}// Check if the response data is wrapped in a value property\nelse if(response.data&&response.data.value&&Array.isArray(response.data.value)){console.log('Setting bowlers from response.data.value');bowlersArray=response.data.value;}// Check if the response data is a JSON object with a result property\nelse if(response.data&&response.data.result&&Array.isArray(response.data.result)){console.log('Setting bowlers from response.data.result');bowlersArray=response.data.result;}// If it's an object with numeric keys, it might be an object that should be an array\nelse if(typeof response.data==='object'&&response.data!==null){console.log('Attempting to convert object to array');const values=Object.values(response.data);if(values.length>0){console.log('Setting bowlers from Object.values');bowlersArray=values;}else{console.error('Object has no values');setError('Received an empty object from the server.');}}else{console.error('Unexpected data format:',response.data);setError('Received data in an unexpected format. Please check the console for details.');}// Final safety check to ensure bowlersArray is actually an array\nif(!Array.isArray(bowlersArray)){console.error('bowlersArray is not an array:',bowlersArray);bowlersArray=[];if(!error){setError('Failed to process data from server. Expected an array but got something else.');}}// Set the bowlers state with our guaranteed array\nsetBowlers(bowlersArray);setLoading(false);}catch(err){console.error('Error fetching data:',err);let errorMessage='Error fetching bowler data. Please try again later.';if(err.response){// The request was made and the server responded with a status code\n// that falls out of the range of 2xx\nconsole.error('Error response data:',err.response.data);console.error('Error response status:',err.response.status);errorMessage=`Server error: ${err.response.status} - ${err.response.data.title||err.response.data}`;}else if(err.request){// The request was made but no response was received\nconsole.error('Error request:',err.request);errorMessage='No response received from server. Please check your connection.';}else{// Something happened in setting up the request that triggered an Error\nconsole.error('Error message:',err.message);errorMessage=`Error: ${err.message}`;}setError(errorMessage);setLoading(false);}};fetchBowlers();},[]);if(loading){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading bowler data...\"});}if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-danger\",children:error});}return/*#__PURE__*/_jsxs(\"div\",{className:\"table-responsive\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Team\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Address\"}),/*#__PURE__*/_jsx(\"th\",{children:\"City\"}),/*#__PURE__*/_jsx(\"th\",{children:\"State\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Zip\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Phone\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:bowlers.length>0?bowlers.map(bowler=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[bowler.bowlerFirstName||'Unknown',' ',bowler.bowlerMiddleInit?bowler.bowlerMiddleInit+'. ':'',bowler.bowlerLastName||'Unknown']}),/*#__PURE__*/_jsx(\"td\",{children:bowler.teamName||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:bowler.bowlerAddress||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:bowler.bowlerCity||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:bowler.bowlerState||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:bowler.bowlerZip||'N/A'}),/*#__PURE__*/_jsx(\"td\",{children:bowler.bowlerPhoneNumber||'N/A'})]},bowler.bowlerId||Math.random())):/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:\"7\",children:\"No bowlers found or data is not in the expected format.\"})})})]}),bowlers.length===0&&!error&&!loading&&/*#__PURE__*/_jsx(\"div\",{className:\"alert alert-info\",children:\"No bowlers found.\"})]});}export default BowlerTable;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","BowlerTable","bowlers","setBowlers","loading","setLoading","error","setError","fetchBowlers","console","log","response","get","data","Array","isArray","bowlersArray","undefined","value","result","values","Object","length","err","errorMessage","status","title","request","message","children","className","map","bowler","bowlerFirstName","bowlerMiddleInit","bowlerLastName","teamName","bowlerAddress","bowlerCity","bowlerState","bowlerZip","bowlerPhoneNumber","bowlerId","Math","random","colSpan"],"sources":["/Users/zackmcdougal/RiderProjects/WebApplication1/WebApplication1/ClientApp/src/components/BowlerTable.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\n\nfunction BowlerTable() {\n  const [bowlers, setBowlers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchBowlers = async () => {\n      try {\n        console.log('Fetching bowlers from API...');\n        const response = await axios.get('/api/bowlers');\n        console.log('API response:', response.data);\n        console.log('API response type:', typeof response.data);\n        console.log('Is array?', Array.isArray(response.data));\n        \n        // Always ensure bowlers is an array\n        let bowlersArray = [];\n        \n        if (response.data === null || response.data === undefined) {\n          console.error('Response data is null or undefined');\n          setError('Received null or undefined data from the server.');\n        }\n        // Check if the response data is an array\n        else if (Array.isArray(response.data)) {\n          console.log('Setting bowlers from array data');\n          bowlersArray = response.data;\n        } \n        // Check if the response data is wrapped in a value property\n        else if (response.data && response.data.value && Array.isArray(response.data.value)) {\n          console.log('Setting bowlers from response.data.value');\n          bowlersArray = response.data.value;\n        }\n        // Check if the response data is a JSON object with a result property\n        else if (response.data && response.data.result && Array.isArray(response.data.result)) {\n          console.log('Setting bowlers from response.data.result');\n          bowlersArray = response.data.result;\n        }\n        // If it's an object with numeric keys, it might be an object that should be an array\n        else if (typeof response.data === 'object' && response.data !== null) {\n          console.log('Attempting to convert object to array');\n          const values = Object.values(response.data);\n          if (values.length > 0) {\n            console.log('Setting bowlers from Object.values');\n            bowlersArray = values;\n          } else {\n            console.error('Object has no values');\n            setError('Received an empty object from the server.');\n          }\n        } \n        else {\n          console.error('Unexpected data format:', response.data);\n          setError('Received data in an unexpected format. Please check the console for details.');\n        }\n        \n        // Final safety check to ensure bowlersArray is actually an array\n        if (!Array.isArray(bowlersArray)) {\n          console.error('bowlersArray is not an array:', bowlersArray);\n          bowlersArray = [];\n          if (!error) {\n            setError('Failed to process data from server. Expected an array but got something else.');\n          }\n        }\n        \n        // Set the bowlers state with our guaranteed array\n        setBowlers(bowlersArray);\n        \n        setLoading(false);\n      } catch (err) {\n        console.error('Error fetching data:', err);\n        \n        let errorMessage = 'Error fetching bowler data. Please try again later.';\n        \n        if (err.response) {\n          // The request was made and the server responded with a status code\n          // that falls out of the range of 2xx\n          console.error('Error response data:', err.response.data);\n          console.error('Error response status:', err.response.status);\n          errorMessage = `Server error: ${err.response.status} - ${err.response.data.title || err.response.data}`;\n        } else if (err.request) {\n          // The request was made but no response was received\n          console.error('Error request:', err.request);\n          errorMessage = 'No response received from server. Please check your connection.';\n        } else {\n          // Something happened in setting up the request that triggered an Error\n          console.error('Error message:', err.message);\n          errorMessage = `Error: ${err.message}`;\n        }\n        \n        setError(errorMessage);\n        setLoading(false);\n      }\n    };\n\n    fetchBowlers();\n  }, []);\n\n  if (loading) {\n    return <div>Loading bowler data...</div>;\n  }\n\n  if (error) {\n    return <div className=\"alert alert-danger\">{error}</div>;\n  }\n\n  return (\n    <div className=\"table-responsive\">\n      <table className=\"table\">\n        <thead>\n          <tr>\n            <th>Name</th>\n            <th>Team</th>\n            <th>Address</th>\n            <th>City</th>\n            <th>State</th>\n            <th>Zip</th>\n            <th>Phone</th>\n          </tr>\n        </thead>\n        <tbody>\n          {bowlers.length > 0 ? (\n            bowlers.map((bowler) => (\n              <tr key={bowler.bowlerId || Math.random()}>\n                <td>\n                  {bowler.bowlerFirstName || 'Unknown'}{' '}\n                  {bowler.bowlerMiddleInit ? bowler.bowlerMiddleInit + '. ' : ''}\n                  {bowler.bowlerLastName || 'Unknown'}\n                </td>\n                <td>{bowler.teamName || 'N/A'}</td>\n                <td>{bowler.bowlerAddress || 'N/A'}</td>\n                <td>{bowler.bowlerCity || 'N/A'}</td>\n                <td>{bowler.bowlerState || 'N/A'}</td>\n                <td>{bowler.bowlerZip || 'N/A'}</td>\n                <td>{bowler.bowlerPhoneNumber || 'N/A'}</td>\n              </tr>\n            ))\n          ) : (\n            <tr>\n              <td colSpan=\"7\">No bowlers found or data is not in the expected format.</td>\n            </tr>\n          )}\n        </tbody>\n      </table>\n      {bowlers.length === 0 && !error && !loading && (\n        <div className=\"alert alert-info\">No bowlers found.</div>\n      )}\n    </div>\n  );\n}\n\nexport default BowlerTable;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}